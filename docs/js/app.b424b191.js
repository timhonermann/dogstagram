(function(e){function t(t){for(var o,a,i=t[0],u=t[1],s=t[2],d=0,l=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&l.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);m&&m(t);while(l.length)l.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var i=n[a];0!==r[i]&&(o=!1)}o&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var o={},a={app:0},r={app:0},c=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-006e06ab":"5cd9102d","chunk-0e894a85":"27e8e327","chunk-20533d28":"35a69ae3","chunk-2d0c7e52":"76ac1f2a","chunk-936d0640":"89e632c4"}[e]+".js"}function u(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-006e06ab":1,"chunk-0e894a85":1,"chunk-20533d28":1,"chunk-936d0640":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-006e06ab":"d6e4ed85","chunk-0e894a85":"9893ce63","chunk-20533d28":"28b78e7d","chunk-2d0c7e52":"31d6cfe0","chunk-936d0640":"0ca3f7a8"}[e]+".css",r=u.p+o,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var s=c[i],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===o||d===r))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){s=l[i],d=s.getAttribute("data-href");if(d===o||d===r)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var o=t&&t.target&&t.target.src||r,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=o,delete a[e],m.parentNode.removeChild(m),n(c)},m.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){a[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var c=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=c);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=i(e);var l=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(m);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,n[1](l)}r[e]=void 0}};var m=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},u.m=e,u.c=o,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)u.d(n,o,function(t){return e[t]}.bind(null,o));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/dogstagram/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var m=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"00a1":function(e,t,n){},"0da1":function(e,t,n){},"100a":function(e,t,n){"use strict";var o=n("7a23"),a=Object(o["I"])("data-v-275bbaf4");Object(o["v"])("data-v-275bbaf4");var r={class:"posts"},c={key:0,class:"no-posts"},i=Object(o["h"])("h1",null,"Nothing has been posted yet...",-1);Object(o["s"])();var u=a((function(e,t,n,a,u,s){var d=Object(o["z"])("PostItemComponent");return Object(o["r"])(),Object(o["e"])("div",r,[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["y"])(a.posts,(function(e){return Object(o["r"])(),Object(o["e"])("div",{class:"post",key:e.uuid},[Object(o["h"])(d,{post:e},null,8,["post"])])})),128)),0===a.posts.length?(Object(o["r"])(),Object(o["e"])("div",c,[i])):Object(o["f"])("",!0)])})),s=Object(o["I"])("data-v-3f04729e");Object(o["v"])("data-v-3f04729e");var d={key:0,class:"post-container"},l={class:"image-container"},m={class:"name-container"},p={class:"caption-container"},f={key:0,class:"modal-container"},b={class:"post-header"},g={class:"image-comments-container"},v={class:"image-container"},A={class:"comments"},h={class:"comment-input"},O={class:"comment-size"};Object(o["s"])();var j=s((function(e,t,n,a,r,c){var i,u,s,j=Object(o["z"])("CommentComponent");return Object(o["r"])(),Object(o["e"])(o["a"],null,[a.hasLoaded()?(Object(o["r"])(),Object(o["e"])("div",d,[Object(o["h"])("div",l,[Object(o["h"])("img",{onClick:t[1]||(t[1]=function(){return a.toggleDetailView&&a.toggleDetailView.apply(a,arguments)}),class:"image",src:null===(i=n.post)||void 0===i?void 0:i.image,alt:"post"},null,8,["src"])]),Object(o["h"])("div",m,[Object(o["h"])("span",{class:"username",onClick:t[2]||(t[2]=function(e){return c.redirectToUserDetailPage(n.post.userUid)})},Object(o["B"])(a.username),1)]),Object(o["h"])("div",p,[Object(o["h"])("span",null,Object(o["B"])(null===(u=n.post)||void 0===u?void 0:u.caption),1)])])):Object(o["f"])("",!0),(Object(o["r"])(),Object(o["e"])(o["b"],{to:"#modals"},[a.showDetailPost?(Object(o["r"])(),Object(o["e"])("div",f,[Object(o["h"])("div",b,[Object(o["h"])("span",{class:"username",onClick:t[3]||(t[3]=function(e){return c.redirectToUserDetailPage(n.post.userUid)})},Object(o["B"])(a.username),1),Object(o["h"])("button",{class:"close",onClick:t[4]||(t[4]=function(){return a.toggleDetailView&&a.toggleDetailView.apply(a,arguments)})},"X")]),Object(o["h"])("div",g,[Object(o["h"])("div",v,[Object(o["h"])("img",{src:n.post.image,alt:"post"},null,8,["src"])]),Object(o["h"])("div",A,[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["y"])(a.comments,(function(e,t){return Object(o["r"])(),Object(o["e"])("div",{class:"comments-container",key:t},[Object(o["h"])(j,{comment:e},null,8,["comment"])])})),128)),Object(o["h"])("div",h,[Object(o["F"])(Object(o["h"])("input",{onKeydown:t[5]||(t[5]=Object(o["G"])((function(){return a.postComment&&a.postComment.apply(a,arguments)}),["enter"])),"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.newComment=e}),placeholder:"add comment...",maxlength:"100"},null,544),[[o["D"],a.newComment]]),Object(o["h"])("button",{onClick:t[7]||(t[7]=function(){return a.postComment&&a.postComment.apply(a,arguments)})},"Post")]),Object(o["h"])("span",O,Object(o["B"])(null!==(s=a.newComment.length)&&void 0!==s?s:0)+"/100",1)])])])):Object(o["f"])("",!0)]))],64)})),C=(n("498a"),Object(o["I"])("data-v-2b0ef116"));Object(o["v"])("data-v-2b0ef116");var y={class:"container"},k={class:"comment"};Object(o["s"])();var I=C((function(e,t,n,a,r,c){return Object(o["r"])(),Object(o["e"])("div",y,[Object(o["h"])("span",{class:"username",onClick:t[1]||(t[1]=function(e){return c.redirectToUserDetailPage(n.comment.userUid)})},Object(o["B"])(n.comment.username)+":",1),Object(o["h"])("span",k,Object(o["B"])(n.comment.comment),1)])})),w=n("7f8d"),U={name:"CommentComponent",props:{comment:{type:Object,required:!0}},methods:{redirectToUserDetailPage:w["a"]}};n("8719");U.render=I,U.__scopeId="data-v-2b0ef116";var P=U,S=n("5116"),D=n("5e97"),B=n("5502"),L={name:"PostItemComponent",components:{CommentComponent:P},props:{post:{type:Object,required:!0}},methods:{redirectToUserDetailPage:S["a"]},setup:function(e){var t,n=null===e||void 0===e||null===(t=e.post)||void 0===t?void 0:t.uuid,a=Object(B["b"])(),r=Object(o["c"])((function(){return a.getters["getComments"](n)})),c=Object(o["x"])(""),i=Object(o["x"])(!1),u=Object(o["x"])(""),s=function(){i.value=!i.value,a.dispatch("fetchComments",n)},d=function(e){Object(S["a"])(e)},l=function(){if(""!==u.value.trim()){var e,t,o={userUid:null!==(e=null===(t=D["a"].currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:"",comment:u.value,commentedAt:new Date,username:""},r={postUuid:n,comment:o};a.dispatch("postComment",r),u.value=""}};D["d"].doc(e.post.userUid).get().then((function(e){var t,n=null===(t=e.data())||void 0===t?void 0:t.account;c.value=null===n||void 0===n?void 0:n.username}));var m=function(){return!!c.value};return{username:c,showDetailPost:i,newComment:u,comments:r,toggleDetailView:s,postComment:l,hasLoaded:m,toUserDetail:d}}};n("e819");L.render=j,L.__scopeId="data-v-3f04729e";var R=L,E={name:"PostsComponent",components:{PostItemComponent:R},props:{userId:{type:String,required:!1}},setup:function(e){var t=Object(B["b"])(),n=Object(o["c"])((function(){return e.userId?t.getters["userPosts"](e.userId):t.getters["allPosts"]}));return t.dispatch("fetchPosts"),{posts:n}}};n("88d1");E.render=u,E.__scopeId="data-v-275bbaf4";t["a"]=E},"101e":function(e,t,n){},1301:function(e,t,n){},"1b7b":function(e,t,n){e.exports=n.p+"img/default_image.9eba2019.png"},"1f45":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("5e97");function a(e,t){return o["d"].doc(e).set({account:t}).then((function(){return o["c"].doc(e).set({posts:[]})}))}},"297d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACEklEQVRIibWVvWtUURDFzyyyWFgsoiJBRMKSKqQQUcuUIZ1gZWFpYWVhoSg2lsHCQiRYin+AhViISLAzRZCgEFzBFCmDplgVkz0/i71vvfvxdp+sDlzevJm583Fm7r3Sf6aoYgTUgPMRcUfSEUm3Jb2TtCrp9ID5T0mXIsKVMgAath8Bbf5QG3gI7DJMHaA20bHtOnAV2LENgO33wGbiyeQ5Pz4AIGAOeAHsp6y+AveAJjAL3Le9NyL78RUAdds3Bkp/AywAV4BPwJbty8BZ4G2lClITL9pez4y3E0TnbK8V8qTr2H4JzAPXChiztQD0sD5m+3HWxLbtJ8C87RWgDAqAXdt3U6BnwI8k37P9wHZDwOuiPGAdWASWbW8Vwkw/kk/NX7S9DHzIbJ4L2AC2bV8HTtl+artTMiHj1r7t1eTjFrADrIXtoxEhSQ1JryTNVjog5dQCLkRETd1D1+vFUg7uJFjG8cCZwm9vnCJCpM4X3yn4nt9DeW0Jqt53Wn4oAJAbfAQO0n8NqKUqmxFRB35JaqVLrbjYDkuaY9RJBpbyaQFmhoy6dp8TzpuDOtszttu2myMrGAXRCCqyPRhUpH1913RfKXmzyqiKTWmAik6KDMv29smngeik7ZvKoAKOR0RdZWM6MEWTApyQtFLYl+39a4iKt7bKoZP6K/gm6UvKxMrvkX5qqfvwj6PvE/T/jn4DQZ9FqNEH+k4AAAAASUVORK5CYII="},4947:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABgUlEQVRIibVUvUoDQRicL6QQCXKVWEiwEv/KVOIjWFhYWYpP4CvkCVKJDxQLESwsJIiNgiARg8YqhBkLb8Nms95ecjpw3HDsznz77XcD/DOszCKSGYAWgA0AYzN7AnBjZp+VK5B0QPJBAUjeS2pVFW+SfCXpRBXwZ0lrRRq1hMGJma2a/XTSzBDwdUnHCxuY2W7EdPLO+fbCBgDqntDMu4xGPWEwdi0BAJ87SBoXCaROMMpFfMGQj4oEUid4j4kHLRoUCaSmqBuZHP+hmV0niiw0yEg+utl38+/xO0mNhQ1yk/PffjRJZ5XEc4NlSb1IVNxKWkrtT93BCoBDAC/eN0ffABzlQThXxZC0JemC5Eckf6Y4ySHJS5KbwXRNgyRINkl2JA3ClpTAIN/bJDlTdSapTbKfUimYKEf7ktqSMlf5DsleqhXzcpI9SXsmqQtgf66LKo8rkzQE0HAXHAu0oJ2TNSX4V83f6HPN5n4q9KLcSJ6aWV1SLVZNFUgqTNo/wTci+3Dw5gIvKQAAAABJRU5ErkJggg=="},5116:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("ac1f"),n("5319");var o=n("afbc");function a(e){o["a"].replace("/user/".concat(e))}},"5b96":function(e,t,n){"use strict";n("9574")},"5e97":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s}));var o=n("2591"),a=(n("ea7b"),n("e71f"),{apiKey:"AIzaSyACjs1obcB7QfVnYN9uid76zur8ZJz3Krc",authDomain:"weblab-dogstagram.firebaseapp.com",projectId:"weblab-dogstagram",storageBucket:"weblab-dogstagram.appspot.com",messagingSenderId:"350466434836",appId:"1:350466434836:web:40d12b5ce71e3f279b4401"});o["a"].initializeApp(a);var r=o["a"].firestore(),c=o["a"].auth(),i=r.collection("users"),u=r.collection("posts"),s=r.collection("comments")},"67f7":function(e,t,n){var o={"./add.png":"6e90","./close.png":"c821","./default_image.png":"1b7b","./default_profile_image.png":"ac4a","./home.png":"297d","./logout.png":"9678","./profile.png":"4947"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id="67f7"},"6e90":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACl0lEQVRIibWWvWtVZxzHP9/DoQQpoUOQUKQECQ4dRAW1QtSS7o79A5zaLg4uXTOKVOggQsfWrZtuTupQ8S1kkSKZ6ltva7hQDalK+v12uM+5Pg259waqv+U85/f+8n1+58B7JiVpgBlgE+hLGgqTAEwnmZK0JskAtpE0nWQKWGuaxltsPgJaoI/tr5L8keRxkp9tn06yN8mnSc4lWbX9PMnFJPNJ5mx/a/uh7ee2vy/8Pba/tP2T7d+Kz29k+6mkj0tkJPEOz71W0j3glCQn+SVJ1woncdeWJJT2uXLSVPwmSStpBlgAGkn3SLKY5HWS1TKP/0VJGturxediCywD/SQv6mFtY3gC+Ky83pF0fTu90okXSfqSlkmyL8lL23cnZHYrhWzfnqB7N8lftvc1wAHgwxqeI2hXMR6exwQwMC1pfwOcLPyR7SlGbTdcBhgfSRWaTrbAkSqz2uEJYKlk2wJ7K/FckvsMLucGsLR1JqUjR1rgk4pR0xfA513wTl7OU8Chin8TGAao+HPjYPnP1spGnUdRElrgEbB7G4M7wApvW7RH0gdF9gZ4Iqlr0X9Q1VUr6RFJLk2CXhKSPCh6SfLruAps3y66lxrgRlEe2a6Cis3K6eYkWJc53GiBFUnrY7UHQV5Vxq8m6DbAOrDSAs/Ky6Q9tAQcKw5uTUoIWE/SI8mC7b/Lft+B3XhKQvH1OslCC5wpuJ4Hrib5s1vT5dld/SFVN7WruimruwF2S5ovsjNK8jsw20Xf4fB2dE7Sa4DzDGawJukK8HWSg8BR4EcGOH8GXAAOSzoGXAY2JPWAH4Djkg4nOZvkmqQ+sC7pu+6jP8tgrww/7CWTtsg2qH4IbLfAbEHWWl217QaYkdQCvbHteBf0L6yOCzHPj8lgAAAAAElFTkSuQmCC"},"790a":function(e,t,n){"use strict";n("1301")},"7f8d":function(e,t,n){"use strict";function o(e){return e?e.valueOf():1}function a(e){return e.sort((function(e,t){return o(e.postedAt)>o(t.postedAt)?-1:o(e.postedAt)<o(t.postedAt)?1:0})),e}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r["a"]})),n.d(t,"c",(function(){return i}));n("1f45");var r=n("5116"),c=n("7a23");function i(){var e;return null===(e=Object(c["j"])())||void 0===e?void 0:e.appContext.provides.$toast}},8719:function(e,t,n){"use strict";n("0da1")},"88d1":function(e,t,n){"use strict";n("101e")},9574:function(e,t,n){},9678:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABV0lEQVRIibVVMU7DQBCcsawoQil4BqKgoOYdqXkAooOeNhUdQkhIvIQv8AsqKtMAyQwFZ+fsi5OzE7Ya+/Zmdvd274B/NuY4SbomWdgeyv+dK7AiWQxlt/05aJNt1FnkYAAoM7nvARQkG5ItuARwBaD5f1CzPZVk25ZUDa7rACGQRCIQanhie7Q4yaY8LZJAPrf9ivzzSWxjO9ueSXqQ9BNqOBlJPpXkwFGVIepTAI8kLyLHW9vLOhqSmyP7WxPJRfS9XpQ0t/3ujtWdkIm/uhkEqwqSMwCT7rBsqmcf3lIulACeAbyRfAJwHqW4ALCM0+3DABThZiBbPraPJb3YXoX09jrkukRJSpIubX8cQkBSlThIgu0zSaMGzfZR1CupwL6WdNHBFdpiedeBpDsgvbd6SMu4iwa/aDvegi7Oe9HijVGkWTj3xrxBGCDb2um9DmyZ6zvafgHbNZIk4DEs2QAAAABJRU5ErkJggg=="},ac4a:function(e,t,n){e.exports=n.p+"img/default_profile_image.e44ada6c.png"},afbc:function(e,t,n){"use strict";n("45fc"),n("d3b7");var o=n("5e97"),a=n("6c02"),r=n("7a23"),c={class:"view-container"};function i(e,t,n,o,a,i){var u=Object(r["z"])("PostsComponent");return Object(r["r"])(),Object(r["e"])("div",c,[Object(r["h"])(u)])}var u=n("100a"),s=Object(r["i"])({name:"Home",components:{PostsComponent:u["a"]}});s.render=i;var d=s,l=[{path:"/",name:"Home",component:d,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:function(){return n.e("chunk-20533d28").then(n.bind(null,"c66d"))},meta:{requiresAuth:!0}},{path:"/upload",name:"Upload",component:function(){return n.e("chunk-0e894a85").then(n.bind(null,"2679"))},meta:{requiresAuth:!0}},{path:"/user/:userId",name:"User Detail",component:function(){return n.e("chunk-2d0c7e52").then(n.bind(null,"5320"))},meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:function(){return n.e("chunk-936d0640").then(n.bind(null,"a55b"))},meta:{isLoginPage:!0}},{path:"/register",name:"Register",component:function(){return n.e("chunk-006e06ab").then(n.bind(null,"73cf"))},meta:{isLoginPage:!0}},{path:"/:catchAll(.*)",redirect:"/"}],m=Object(a["a"])({history:Object(a["b"])(),routes:l});m.beforeEach((function(e,t,n){var a=e.matched.some((function(e){return e.meta.requiresAuth})),r=e.matched.some((function(e){return e.meta.isLoginPage}));a&&!o["a"].currentUser?n("/login"):r&&o["a"].currentUser?n("/"):n()}));t["a"]=m},c821:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB60lEQVRIia2WzWqTQRSGnxmKFBdddCHiZYh4BV5DERel7kpxIb0Wocsisbjrtlehd6FWodWaRQxNz+MiM/Xrl28SpDkw5GXm/OS8551JEoC6CbwCXgNPgA01AzmlhEpKCSAzbFHWDPgKHAMfUkp/UDfVE/XG9dmN+lF9iLpfk0fErUcL/2eRg6R+Ap6qAFRK1oQ/J/U78KjB7X3tRwY2ANTb6sus+nT9l+AH2blaFpIUp0v1VJ31kwOzlNIpcNkv3sEZ9WpoQhFxob5Qs3qoTjrH07KXi89FY9Bj1HHjcBQR9dvkiHirXpd1WDsv3b5vqG5MRIzrZj0oeKrudWjJEbEfEQe95LvqtMZ316oOLGf9IrfJI2J3VXyzQKfNifrS3gDVnYiYDPjfoSj3ghbUwPxd2qbzDhWKtulIvKmkZS1GxDQi+gPtD37Sil+gqPfmDKllp0uX/yR83VRRLTCgopNe8t2ImJTVH/xJL7bicfOiqd8i4rlztex5l8pxLRIRz9Qvyyj62aDIEnhU7sQdn7J3VJM3KLpK6gWwXVte53MN/Npg/jNXN1gnBmYZOB/ScMtcpvlFfJ6B0ZBDRyWDF3AVLp8jImJLPWuo4D52pm6lUm0LeMP8b8vjVRRVnvsYIKV0Dhyr73LOv/8C6rlRIaU+3uYAAAAASUVORK5CYII="},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a=n("a600"),r=n.n(a);function c(e,t,n,a,r,c){var i=Object(o["z"])("HeaderComponent"),u=Object(o["z"])("router-view");return Object(o["r"])(),Object(o["e"])(o["a"],null,[e.isLoggedIn?(Object(o["r"])(),Object(o["e"])(i,{key:0,"navigation-items":e.navItems},null,8,["navigation-items"])):Object(o["f"])("",!0),Object(o["h"])(u)],64)}var i=n("5e97"),u=n("d1f8"),s=n.n(u),d=Object(o["I"])("data-v-5efb6f34");Object(o["v"])("data-v-5efb6f34");var l={class:"header"},m={class:"logo-container"},p=Object(o["h"])("img",{class:"logo",src:s.a,alt:"dogstagram Logo"},null,-1),f={class:"section-name-container"},b={class:"navigation"},g={class:"profile"},v={class:"user"};Object(o["s"])();var A=d((function(e,t,n,a,r,c){var i=Object(o["z"])("NavigationItemComponent");return Object(o["r"])(),Object(o["e"])("div",l,[Object(o["h"])("div",m,[p,Object(o["h"])("div",f,[Object(o["h"])("span",null,Object(o["B"])(a.sectionName),1)])]),Object(o["h"])("div",b,[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["y"])(n.navigationItems,(function(e){return Object(o["r"])(),Object(o["e"])("div",{class:"nav-item",key:e.routePath},[Object(o["h"])(i,{displayName:e.displayText,iconName:e.iconName,onClick:function(t){return a.navigate(e.routePath)}},null,8,["displayName","iconName","onClick"])])})),128))]),Object(o["h"])("div",g,[Object(o["h"])("span",v,Object(o["B"])(a.username),1),Object(o["h"])("button",{class:"logout",onClick:t[1]||(t[1]=function(){return a.logout&&a.logout.apply(a,arguments)})},"Logout")])])})),h=(n("b0c0"),n("ac1f"),n("5319"),Object(o["I"])("data-v-3ce721b2"));Object(o["v"])("data-v-3ce721b2");var O={class:"navigation-item"};Object(o["s"])();var j=h((function(e,t,a,r,c,i){return Object(o["r"])(),Object(o["e"])("div",O,[Object(o["h"])("img",{src:n("67f7")("./".concat(e.iconName)),alt:"Nav Item Image"},null,8,["src"]),Object(o["h"])("p",null,Object(o["B"])(e.displayName),1)])})),C=n("d4ec"),y=n("262e"),k=n("2caf"),I=n("9ab4"),w=n("ce1f"),U=function(e){Object(y["a"])(n,e);var t=Object(k["a"])(n);function n(){var e;return Object(C["a"])(this,n),e=t.apply(this,arguments),e.displayName="",e.iconName="",e}return n}(w["b"]);U=Object(I["c"])([Object(w["a"])({name:"NavigationItemComponent",props:{displayName:{type:String,required:!0},iconName:{type:String,required:!0}}})],U);var P=U;n("5b96");P.render=j,P.__scopeId="data-v-3ce721b2";var S=P,D=n("afbc"),B=n("6c02"),L=n("5502"),R={name:"HeaderComponent",components:{NavigationItemComponent:S},props:{navigationItems:{type:Object,required:!0}},setup:function(){var e,t=Object(L["b"])(),n=Object(B["c"])(),a=Object(o["c"])((function(){var e;return t.getters["getUsername"](null===(e=i["a"].currentUser)||void 0===e?void 0:e.uid)}));t.dispatch("fetchUsername",{userId:null===(e=i["a"].currentUser)||void 0===e?void 0:e.uid});var r=Object(o["c"])((function(){var e=D["a"].currentRoute.value.name;return"User Detail"!==e?D["a"].currentRoute.value.name:t.getters["getUsername"](n.params.userId)})),c=function(e){D["a"].replace(e)},u=function(){t.dispatch("logout")};return{sectionName:r,username:a,navigate:c,logout:u}}};n("790a");R.render=A,R.__scopeId="data-v-5efb6f34";var E=R,K=Object(o["i"])({name:"App",components:{HeaderComponent:E},setup:function(){var e=[],t=Object(o["x"])(!!i["a"].currentUser);return e.push({displayText:"Home",routePath:"/home",iconName:"home.png"}),e.push({displayText:"Upload",routePath:"/upload",iconName:"add.png"}),e.push({displayText:"Profile",routePath:"/profile",iconName:"profile.png"}),Object(o["o"])((function(){i["a"].onAuthStateChanged((function(e){t.value=!!e}))})),{navItems:e,isLoggedIn:t}}});n("cf5c");K.render=c;var N,V=K,Q=(n("4de4"),n("d81d"),n("4ec9"),n("d3b7"),n("25f0"),n("3ca3"),n("1276"),n("ddb0"),n("2909")),W=n("b85c"),J=n("7f8d"),T=n("1f45"),x=n("2591"),q=x["a"].firestore.FieldValue,z={isLoggedIn:!1,account:{},posts:[],comments:new Map,usernames:new Map,isLoading:!1},X={isLoggedIn:function(e){return e.isLoggedIn},isLoading:function(e){return e.isLoading},getAccount:function(e){return e.account},allPosts:function(e){return e.posts},userPosts:function(e){return function(t){return e.posts.filter((function(e){return e.userUid==t}))}},getComments:function(e){return function(t){return e.comments.get(t)}},getUsername:function(e){return function(t){return e.usernames.get(t)}}},H={login:function(e,t){var n=e.commit;return i["a"].signInWithEmailAndPassword(t.email,t.password).then((function(){n("setLoggedIn",!0),D["a"].replace("/")}))},logout:function(e){var t=e.commit;return i["a"].signOut().then((function(){t("setLoggedIn",!1),D["a"].replace("/login")}))},register:function(e,t){var n=e.commit;return i["a"].createUserWithEmailAndPassword(t.email,t.password).then((function(e){var o,a,r,c,i,u,s=null!==(o=null===(a=e.user)||void 0===a||null===(r=a.email)||void 0===r?void 0:r.toLocaleLowerCase().split("@")[0])&&void 0!==o?o:"";s.length>16&&(s=s.substring(0,16));var d,l={username:s,email:t.email.toLowerCase(),registeredAt:null!==(c=null===(i=e.user)||void 0===i?void 0:i.metadata.creationTime)&&void 0!==c?c:Date.now().toString()};null!==(u=e.user)&&void 0!==u&&u.uid&&Object(T["a"])(null===(d=e.user)||void 0===d?void 0:d.uid,l).then((function(){return D["a"].replace("/home")}));n("setLoggedIn",!0)}))},fetchPosts:function(e){var t=e.commit;i["c"].get().then((function(e){var n,o=[],a=Object(W["a"])(e.docs);try{for(a.s();!(n=a.n()).done;){var r,c,i=n.value,u=(i.data(),null!==(r=null===(c=i.data())||void 0===c?void 0:c.posts)&&void 0!==r?r:[]);u.map((function(e){return e.postedAt=e.postedAt.toDate()})),o.push.apply(o,Object(Q["a"])(u))}}catch(d){a.e(d)}finally{a.f()}var s=Object(J["b"])(o);t("setPosts",s)}))},uploadPost:function(e,t){var n,o=e.commit;i["c"].doc(null===(n=i["a"].currentUser)||void 0===n?void 0:n.uid).update("posts",q.arrayUnion(t)).then((function(){i["b"].doc(null===t||void 0===t?void 0:t.uuid).set({comments:[]}).then((function(){return o("addPost",t)}))}))},fetchComments:function(e,t){var n=e.commit;i["b"].doc(t).get().then((function(e){var o,a=null===(o=e.data())||void 0===o?void 0:o.comments;n("setComments",{postUuid:t,comments:a});var r=new Map;i["d"].get().then((function(e){var o,a=Object(W["a"])(e.docs);try{for(a.s();!(o=a.n()).done;){var c,i=o.value,u=null===(c=i.data())||void 0===c?void 0:c.account;r.set(i.id,u.username)}}catch(s){a.e(s)}finally{a.f()}n("updateCommentUsernames",{postUuid:t,usernames:r})}))}))},postComment:function(e,t){var n=e.commit;i["b"].doc(t.postUuid).update("comments",q.arrayUnion(t.comment)).then((function(){var e;i["d"].doc(null===(e=i["a"].currentUser)||void 0===e?void 0:e.uid).get().then((function(e){var o,a=null===(o=e.data())||void 0===o?void 0:o.account;t.comment.username=a.username,n("addComment",t)}))}))},fetchAccount:function(e,t){var n=e.commit;i["d"].doc(t.userId).get().then((function(e){var t;n("setAccount",null===(t=e.data())||void 0===t?void 0:t.account)}))},updateUsername:function(e,t){var n=e.commit;i["d"].doc(t.userId).update({"account.username":t.username}).then((function(){return n("setAccountUsername",t)}))},fetchUsername:function(e,t){var n=e.commit;i["d"].doc(t.userId).get().then((function(e){var o,a,r=null===(o=e.data())||void 0===o||null===(a=o.account)||void 0===a?void 0:a.username;n("setUsername",{userId:t.userId,username:r})}))}},M={setLoggedIn:function(e,t){e.isLoggedIn=t},setIsLoading:function(e,t){e.isLoading=t},setAccount:function(e,t){e.account=t},setAccountUsername:function(e,t){e.account.username=t.username,e.usernames.set(t.userId,t.username)},setPosts:function(e,t){e.posts=t},addPost:function(e,t){e.posts.push(t)},setComments:function(e,t){e.comments.set(t.postUuid,t.comments)},addComment:function(e,t){var n,o=null!==(n=e.comments.get(t.postUuid))&&void 0!==n?n:[];o.push(t.comment),e.comments.set(t.postUuid,o)},updateCommentUsernames:function(e,t){var n,o,a=null!==(n=e.comments.get(t.postUuid))&&void 0!==n?n:[],r=Object(W["a"])(a);try{for(r.s();!(o=r.n()).done;){var c=o.value,i=t.usernames.get(c.userUid);c.username!==i&&(c.username=i,e.comments.get(t.postUuid))}}catch(u){r.e(u)}finally{r.f()}e.comments.set(t.postUuid,a)},setUsername:function(e,t){e.usernames.set(t.userId,t.username)}},Y={state:z,getters:X,actions:H,mutations:M},G=Object(L["a"])({state:{},mutations:{},actions:{},modules:{dogstagram:Y}});i["a"].onAuthStateChanged((function(){N||(N=Object(o["d"])(V).use(G).use(D["a"]).use(r.a,{duration:5e3,positionY:"bottom",positionX:"center"}).mount("#app"))}))},cf5c:function(e,t,n){"use strict";n("f02d")},d1f8:function(e,t,n){e.exports=n.p+"img/dogstagram_icon_white.a1c02366.png"},e819:function(e,t,n){"use strict";n("00a1")},f02d:function(e,t,n){}});
//# sourceMappingURL=app.b424b191.js.map